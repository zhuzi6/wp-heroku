(()=>{var e={9847:e=>{e.exports=function(e){function t(e,t,r,n){function o(t){"function"!=typeof self.postMessage?e.ports[0].postMessage(t):self.postMessage(t)}r?("undefined"!=typeof console&&"error"in console&&console.error("Worker caught an error:",r),o([t,{message:r.message}])):o([t,null,n])}self.addEventListener("message",(function(r){var n=r.data;if(Array.isArray(n)&&2===n.length){var o=n[0],s=n[1];"function"!=typeof e?t(r,o,new Error("Please pass a function into register().")):function(e,r,n,o){var s,a=function(e,t){try{return{res:e(t)}}catch(e){return{err:e}}}(r,o);a.err?t(e,n,a.err):!(s=a.res)||"object"!=typeof s&&"function"!=typeof s||"function"!=typeof s.then?t(e,n,null,a.res):a.res.then((function(r){t(e,n,null,r)}),(function(r){t(e,n,r)}))}(r,e,o,s)}}))}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{function e(e,t){const r=e[0]-t[0],n=e[1]-t[1],o=e[2]-t[2],s=e[3]-t[3];return Math.sqrt(r*r+n*n+o*o+s*s)}function t(e,t){for(let r=0;r<e.length;r++)t[r]=e[r]}var n=r(9847);r.n(n)()((function(r){const{img:n,k:o,iteration:s}=r;return function(r,n,o){const s=new Array(n),a=new Array(n);for(let e=0;e<n;e++)s[e]=r[Math.floor(Math.random()*r.length)];let l=0;const f=new Array(n).fill(0).map((()=>new Array(5).fill(0)));for(;l<o;){for(let t=0;t<r.length;t++){const o=r[t];let a=0,l=e(o,s[0]);for(let t=1;t<n;t++){const r=e(o,s[t]);r<l&&(l=r,a=t)}const i=f[a];i[0]+=o[0],i[1]+=o[1],i[2]+=o[2],i[3]+=o[3],i[4]++}for(let e=0;e<n;e++){const t=f[e],n=t[4];a[e]=0==n?r[Math.floor(Math.random()*r.length)]:[t[0]/n,t[1]/n,t[2]/n,t[3]/n]}let o=0;for(let t=0;t<n;t++)o+=e(s[t],a[t]);if(o<=1)return{cluster_center:a,iterate_time:l,fit_thresold:!0,label:f.map((e=>e[4])),size:r.length};t(a,s),l++;for(let e=0;e<n;e++)for(let t=0;t<5;t++)f[e][t]=0}return{cluster_center:s,iterate_time:l,fit_thresold:!1,label:f.map((e=>e[4])),size:r.length}}(function(e){const{data:t}=e,r=new Array(t.length/4);for(let e=0;e<t.length;e+=4)r[e/4]=[t[e],t[e+1],t[e+2],t[e+3]];return r}(n),o,s)}))})()})();
//# sourceMappingURL=934.js.map